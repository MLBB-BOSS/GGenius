/* ===== GGENIUS REVOLUTION - ULTIMATE PERFORMANCE CSS ===== */
/* 
    Автор: MLBB-BOSS & Copilot
    Остання редакція: 2025-06-07
    Мета: Створення високопродуктивного, адаптивного та стильного CSS 
          для революційного проєкту GGenius.
*/

/* 
    РЕКОМЕНДАЦІЯ: Шрифти підключаються через <link> в HTML для кращої продуктивності.
    Приклад:
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;600;700;800;900&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
*/

:root {
    /* Core Colors & RGB Versions */
    --bg-1: #0a0c0f; --bg-1-rgb: 10, 12, 15;
    --bg-2: #14181e; --bg-2-rgb: 20, 24, 30;
    --bg-3: #252a32; --bg-3-rgb: 37, 42, 50;
    --surface: #1a1d23; --surface-rgb: 26, 29, 35;
    
    --text-1: #ffffff; --text-1-rgb: 255, 255, 255;
    --text-2: #b0c4de; --text-2-rgb: 176, 196, 222;
    --text-3: #8899a6; --text-3-rgb: 136, 153, 166;
    
    --blue: #007bff; --blue-rgb: 0, 123, 255;
    --yellow: #ffc107; --yellow-rgb: 255, 193, 7;
    --cyan: #00d4ff; --cyan-rgb: 0, 212, 255;
    --purple: #a55eea; --purple-rgb: 165, 94, 234;
    --green: #00ff88; --green-rgb: 0, 255, 136;
    --pink: #ff073a; --pink-rgb: 255, 7, 58;
    --electric: #bf00ff; --electric-rgb: 191, 0, 255;
    --matrix: #39ff14; --matrix-rgb: 57, 255, 20;

    /* Semantic Color Aliases (використовуйте їх для більшої ясності) */
    --color-background-primary: var(--bg-1);
    --color-background-secondary: var(--bg-2);
    --color-surface-primary: var(--surface);
    --color-text-primary: var(--text-1);
    --color-text-secondary: var(--text-2);
    --color-text-muted: var(--text-3);
    --color-accent-primary: var(--cyan); /* Основний акцентний колір */
    --color-accent-secondary: var(--yellow);
    --color-accent-tertiary: var(--purple);
    --color-brand-error: var(--pink);
    --color-brand-success: var(--green);
    
    /* Performance Gradients */
    --gradient-accent: linear-gradient(135deg, var(--color-accent-primary), var(--color-accent-tertiary));
    --gradient-cyber: linear-gradient(135deg, var(--cyan), var(--electric), var(--pink)); /* Залишено для специфічних ефектів */
    --gradient-cta: linear-gradient(135deg, var(--blue), color-mix(in srgb, var(--blue) 70%, var(--purple) 30%));
    --gradient-background-main: linear-gradient(145deg, var(--bg-1) 0%, #0d1014 50%, #080a0c 100%);
    --gradient-holographic-subtle: linear-gradient(45deg, rgba(var(--cyan-rgb),.1), transparent, rgba(var(--cyan-rgb),.1));
    
    /* Typography System */
    --font-family-heading: 'Exo 2', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --font-family-body: 'Open Sans', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    
    --font-size-xs: clamp(0.75rem, 0.5vw + 0.65rem, 0.875rem); 
    --font-size-s: clamp(0.875rem, 0.6vw + 0.7rem, 1rem);
    --font-size-base: clamp(1rem, 0.75vw + 0.75rem, 1.125rem);
    --font-size-l: clamp(1.125rem, 1vw + 0.8rem, 1.375rem);
    --font-size-xl: clamp(1.375rem, 1.25vw + 0.9rem, 1.75rem);
    --font-size-2xl: clamp(1.75rem, 1.5vw + 1rem, 2.25rem);
    --font-size-3xl: clamp(2.25rem, 2vw + 1.2rem, 3rem);
    --font-size-4xl: clamp(2.75rem, 2.5vw + 1.5rem, 4rem);

    --line-height-tight: 1.25;
    --line-height-normal: 1.6;
    --line-height-loose: 1.75;
    
    /* Layout & Spacing */
    --layout-container-max-width: 1240px;
    --layout-container-padding: clamp(1rem, 2vw, 1.5rem); /* Адаптивний відступ контейнера */
    --header-height: 4.375rem; /* 70px */

    --space-xs: 0.5rem;  /* 8px */
    --space-s: 1rem;   /* 16px */
    --space-m: 1.5rem; /* 24px */
    --space-l: 2.5rem; /* 40px */
    --space-xl: 4rem;  /* 64px */
    --space-2xl: 6rem; /* 96px */
    
    /* Borders & Radii */
    --radius-s: 4px; --radius-m: 8px; --radius-l: 16px; --radius-xl: 28px;
    --border-width-thin: 1px;
    --border-width-medium: 2px;
    --border-color-subtle: rgba(var(--text-1-rgb), 0.1);
    --border-color-accent: rgba(var(--cyan-rgb), 0.3);
    
    /* Effects & Shadows (Спрощено для продуктивності) */
    --shadow-sm: 0 2px 4px rgba(0,0,0,.2);
    --shadow-md: 0 4px 10px rgba(0,0,0,.25);
    --shadow-lg: 0 8px 20px rgba(0,0,0,.3);
    --shadow-glow-accent: 0 0 12px rgba(var(--cyan-rgb),.35);
    --shadow-glow-secondary: 0 0 15px rgba(var(--yellow-rgb),.3);

    /* Transitions & Animations */
    --transition-duration-fast: 0.15s;
    --transition-duration-normal: 0.3s;
    --transition-duration-slow: 0.5s;
    --transition-easing: cubic-bezier(.4,0,.2,1);
    
    /* Z-index Scale */
    --z-background: -1; 
    --z-default: 1; 
    --z-elevated: 10; 
    --z-sticky: 1000; 
    --z-dropdown: 1100; 
    --z-modal-backdrop: 1190;
    --z-modal: 1200; 
    --z-toast: 1300;
    --z-skip-links: 9998;
    --z-loading-screen: 9999;
}

/* High Performance Reset & Base Styles */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border-style: solid; /* Попереджає несподівані бордери від user-agent */
    border-width: 0;
}

html {
    font-size: 16px; /* Базовий розмір для rem, покращує доступність */
    scroll-behavior: smooth;
    height: 100%;
    -webkit-tap-highlight-color: transparent; /* Прибирає синій фон при кліку на мобільних */
}

body {
    font-family: var(--font-family-body);
    background: var(--gradient-background-main);
    color: var(--color-text-primary);
    line-height: var(--line-height-normal);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    padding-top: var(--header-height);
    min-height: 100vh;
    contain: layout style paint; /* Оптимізація рендерингу */
}

/* Critical Above-the-Fold Background Effect */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    z-index: var(--z-background);
    pointer-events: none;
    contain: strict; /* Максимальна ізоляція для продуктивності */
    background: radial-gradient(circle at 15% 85%, color-mix(in srgb, var(--blue) 4%, transparent), transparent 28%), 
                radial-gradient(circle at 85% 15%, color-mix(in srgb, var(--yellow) 4%, transparent), transparent 28%),
                radial-gradient(circle at 50% 50%, color-mix(in srgb, var(--purple) 2%, transparent), transparent 35%);
    animation: bgMove 40s ease-in-out infinite alternate; /* Сповільнено */
    will-change: transform; /* Тільки transform анімується */
}

/* Critical Loading Screen */
.loading-screen {
    position: fixed; inset: 0;
    background: var(--color-background-primary);
    display: flex; align-items: center; justify-content: center;
    z-index: var(--z-loading-screen);
    opacity: 1; visibility: visible;
    transition: opacity var(--transition-duration-slow) var(--transition-easing), 
                visibility var(--transition-duration-slow) step-end;
    contain: strict;
}
.loading-screen.hidden {
    opacity: 0; visibility: hidden;
    transition-delay: 0s, var(--transition-duration-slow); /* Затримка для visibility */
}
.loading-spinner { text-align: center; contain: layout; }
.spinner-ring {
    width: 3.5rem; height: 3.5rem;
    border: 4px solid rgba(var(--text-1-rgb), 0.15);
    border-top-color: var(--color-accent-primary);
    border-radius: 50%;
    animation: spin 0.7s linear infinite; /* Швидше обертання */
    margin: 0 auto var(--space-m);
    will-change: transform;
}
.loading-text {
    color: var(--color-text-secondary);
    font-size: var(--font-size-l);
    animation: pulse 1.3s ease-in-out infinite alternate;
}
.loading-progress {
    width: 200px; height: 5px;
    background: rgba(var(--text-1-rgb), 0.1);
    border-radius: var(--radius-s);
    margin-top: var(--space-m);
    overflow: hidden; position: relative;
}
.progress-bar { /* ОПТИМІЗОВАНО: Використовує transform: scaleX() */
    height: 100%; background: var(--gradient-accent);
    border-radius: var(--radius-s);
    width: 100%; /* Базова ширина для масштабування */
    transform-origin: left; transform: scaleX(0); /* Початковий стан */
    transition: transform var(--transition-duration-normal) var(--transition-easing); 
    will-change: transform;
}

/* Performance Optimized Scroll Progress */
.scroll-progress { /* ОПТИМІЗОВАНО: Використовує transform: scaleX() */
    position: fixed; top: 0; left: 0;
    height: 4px; background: var(--color-accent-secondary); /* Жовтий колір */
    z-index: var(--z-sticky);
    transform-origin: left; width: 100%; transform: scaleX(0);
    will-change: transform;
    border-radius: 0 0 var(--radius-s) 0;
    box-shadow: 0 1px 5px rgba(var(--yellow-rgb), 0.3);
    /* transition: transform 0.03s linear; /* Для плавності, якщо JS оновлює не кожен кадр */
}

/* Gaming Cursor - УВАГА: mix-blend-mode може бути важким */
.gaming-cursor {
    position: fixed; width: 1.25rem; height: 1.25rem;
    pointer-events: none; z-index: var(--z-elevated);
    /* mix-blend-mode: difference; /* Розгляньте можливість вимкнення, якщо є проблеми з продуктивністю */
    transition: transform var(--transition-duration-fast) var(--transition-easing);
    contain: layout; will-change: transform;
}
.cursor-dot, .cursor-ring { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); border-radius: 50%; }
.cursor-dot { width: 4px; height: 4px; background: var(--color-accent-primary); }
.cursor-ring {
    width: 1.25rem; height: 1.25rem;
    border: 1px solid var(--color-accent-primary);
    transition: transform var(--transition-duration-fast) var(--transition-easing);
    will-change: transform;
}
.gaming-cursor.clicked .cursor-ring { transform: translate(-50%, -50%) scale(0.8); }

/* Skip Links for Accessibility */
.skip-links {
    position: absolute; top: -300px; /* Збільшив, щоб точно було приховано */
    left: var(--space-s); /* Відступ зліва */
    z-index: var(--z-skip-links);
    display: flex; flex-direction: column; /* Краще для кількох посилань */
    gap: var(--space-s);
    transition: top var(--transition-duration-normal) var(--transition-easing);
}
.skip-links:focus-within { top: var(--space-s); }
.skip-link {
    background: var(--color-accent-primary); color: var(--color-background-primary); /* Контрастніші кольори */
    padding: var(--space-s) var(--space-m);
    text-decoration: none; border-radius: var(--radius-m);
    font-weight: 700; /* Жирніший шрифт */
    transition: transform var(--transition-duration-fast) var(--transition-easing), 
                background-color var(--transition-duration-fast) var(--transition-easing);
}
.skip-link:focus, .skip-link:hover {
    background-color: var(--color-accent-secondary);
    transform: scale(1.03);
    /* :focus-visible забезпечить outline */
}

/* Container System */
.container {
    width: 100%; /* Для гнучкості, max-width контролює ширину */
    max-width: var(--layout-container-max-width);
    margin-left: auto; margin-right: auto;
    padding-left: var(--layout-container-padding);
    padding-right: var(--layout-container-padding);
    contain: layout;
}

/* Typography Hierarchy */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-family-heading);
    font-weight: 700; /* Базовий, можна змінювати для конкретних рівнів */
    line-height: var(--line-height-tight);
    color: var(--color-text-primary);
    margin-bottom: var(--space-m);
    text-wrap: balance; /* Покращує переноси рядків для заголовків */
}
h1 { font-size: var(--font-size-4xl); font-weight: 900; letter-spacing: -0.02em; }
h2 { font-size: var(--font-size-3xl); font-weight: 800; }
h3 { font-size: var(--font-size-2xl); font-weight: 700; }
h4 { font-size: var(--font-size-xl); font-weight: 700; }

.section-title-iui { /* Загальний клас для заголовків секцій */
    font-size: var(--font-size-3xl); /* Адаптовано */
    font-weight: 800; /* Зменшив для балансу */
    text-align: center; margin-bottom: var(--space-l);
    text-transform: uppercase; letter-spacing: 0.04em;
}
.section-title-iui.text-gradient {
    background: var(--gradient-accent);
    -webkit-background-clip: text; background-clip: text;
    -webkit-text-fill-color: transparent; text-fill-color: transparent; /* Для сумісності */
    padding-bottom: 0.1em; /* Для видимості градієнта */
}
.section-subtitle {
    font-size: var(--font-size-l);
    color: var(--color-text-secondary);
    text-align: center; max-width: 750px; /* Збільшив */
    margin: 0 auto var(--space-l);
    line-height: var(--line-height-normal);
}
.section-header { margin-bottom: var(--space-xl); } /* Зменшив */
p {
    margin-bottom: var(--space-m);
    color: var(--color-text-secondary);
    font-size: var(--font-size-base);
    text-wrap: pretty; /* Покращує переноси для основного тексту */
}
strong { font-weight: 700; color: var(--color-text-primary); }

/* Enhanced Links */
a {
    color: var(--color-accent-primary);
    text-decoration: none;
    transition: color var(--transition-duration-fast) var(--transition-easing), 
                text-shadow var(--transition-duration-fast) var(--transition-easing);
}
a:hover, a:focus-visible { /* :focus-visible для доступності */
    color: color-mix(in srgb, var(--color-accent-primary) 75%, var(--text-1) 25%);
    text-decoration: underline; /* Додав підкреслення при наведенні/фокусі */
    text-decoration-thickness: 1px;
    text-underline-offset: 3px;
}

/* Critical Header Performance */
.site-header {
    background: rgba(var(--bg-1-rgb), 0.8); /* Напівпрозорий фон без блюру за замовчуванням */
    border-bottom: var(--border-width-thin) solid var(--border-color-subtle);
    position: fixed; top: 0; left: 0; right: 0;
    z-index: var(--z-sticky); height: var(--header-height);
    display: flex; align-items: center;
    transition: background-color var(--transition-duration-fast) var(--transition-easing), 
                box-shadow var(--transition-duration-fast) var(--transition-easing);
    contain: layout style paint;
    /* backdrop-filter: blur(var(--blur-sm, 6px)); /* Додавати через JS при скролі, якщо потрібно */
}
.site-header.scrolled {
    background: rgba(var(--bg-1-rgb), 0.9);
    box-shadow: var(--shadow-md);
    /* backdrop-filter: blur(var(--blur-md, 8px)); /* Збільшений блюр при скролі */
}
.header-container {
    display: flex; justify-content: space-between; align-items: center;
    height: 100%; width: 100%; /* Для .container всередині */
}
.header-logo-link { text-decoration: none; display: inline-block; /* Для кращого кліку */ }
.header-logo-text {
    font-family: var(--font-family-heading); font-size: var(--font-size-xl); font-weight: 900;
    background: var(--gradient-accent);
    -webkit-background-clip: text; background-clip: text;
    -webkit-text-fill-color: transparent; text-fill-color: transparent;
    transition: filter var(--transition-duration-fast) var(--transition-easing);
}
.header-logo-link:hover .header-logo-text,
.header-logo-link:focus-visible .header-logo-text {
    filter: brightness(1.25);
}
.header-logo-subtitle { /* Для SEO або доступності, приховано візуально */
    position: absolute; width: 1px; height: 1px;
    padding: 0; margin: -1px; overflow: hidden;
    clip: rect(0,0,0,0); white-space: nowrap; border: 0;
}

/* Navigation Optimized */
.main-navigation { position: relative; }
.mobile-menu-toggle {
    display: none; /* Показується через медіа-запит */
    flex-direction: column; justify-content: space-around; /* Для рівномірного розподілу ліній */
    width: 2.5rem; height: 2.5rem; /* Збільшив розмір */
    background: transparent; border: none;
    cursor: pointer; padding: var(--space-xs);
    border-radius: var(--radius-m);
    transition: background-color var(--transition-duration-fast) var(--transition-easing);
    z-index: calc(var(--z-dropdown) + 1); /* Вище за випадаюче меню */
}
.mobile-menu-toggle:hover, .mobile-menu-toggle:focus-visible {
    background-color: rgba(var(--blue-rgb), 0.15);
}
.hamburger-line {
    width: 1.75rem; /* Збільшив ширину ліній */
    height: 3px; background: var(--color-text-primary);
    border-radius: 2px; transition: transform var(--transition-duration-normal) var(--transition-easing), 
                                 opacity var(--transition-duration-normal) var(--transition-easing);
    will-change: transform, opacity; /* Оптимізація анімації */
    transform-origin: center;
}
/* Анімація "хрестика" для мобільного меню */
.mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(1) { transform: translateY(8px) rotate(45deg); }
.mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(2) { opacity: 0; transform: scaleX(0); }
.mobile-menu-toggle[aria-expanded="true"] .hamburger-line:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }

.nav-menu {
    list-style: none; display: flex; align-items: center; /* Вирівнювання по центру */
    gap: var(--space-s); /* Зменшив проміжок */
}
.nav-link {
    font-family: var(--font-family-body); font-weight: 600; font-size: var(--font-size-s);
    color: var(--color-text-secondary); text-transform: uppercase; letter-spacing: 0.04em;
    padding: var(--space-xs) var(--space-m); border-radius: var(--radius-m);
    position: relative; transition: color var(--transition-duration-fast) var(--transition-easing);
    text-decoration: none; /* Забезпечуємо відсутність підкреслення */
}
.nav-link::after { /* ОПТИМІЗОВАНО: Використовує transform: scaleX() */
    content: ''; position: absolute;
    bottom: 4px; /* Трохи вище */
    left: 15%; right: 15%; /* Лінія 70% по центру */
    height: 2px; background: var(--color-accent-primary);
    transform-origin: center; transform: scaleX(0);
    transition: transform var(--transition-duration-fast) var(--transition-easing);
    will-change: transform;
}
.nav-link:hover, .nav-link:focus-visible, .nav-link.active {
    color: var(--color-text-primary);
    text-shadow: 0 0 6px rgba(var(--cyan-rgb), 0.4); /* Легке світіння */
}
.nav-link:hover::after, .nav-link:focus-visible::after, .nav-link.active::after {
    transform: scaleX(1);
}

/* Hero Section - Critical Performance */
.hero-section {
    min-height: calc(100vh - var(--header-height));
    padding: var(--space-xl) 0 var(--space-2xl); /* Більше відступу знизу */
    display: flex; align-items: center; position: relative;
    contain: layout paint; overflow: hidden; /* Додав paint */
}
/* ... (Фоновий ефект .hero-section::after з попередньої версії, вже оптимізований) ... */
/* ... (Стилі для .hero-content, .hero-logo-container, .hero-title, .subtitle, .hero-actions, .cta-button, .hero-stats, .hero-additional-info - вже оптимізовані в попередніх ітераціях) ... */


/* Features Section & Cards (Image 4) */
/* ... (Стилі для .features-section-iui, .feature-categories, .category-tab, .main-feature-icon, .feature-card-iui - з попередніх ітерацій, з урахуванням оптимізації backdrop-filter та анімацій) ... */
/* Важливо: backdrop-filter сильно впливає на продуктивність. Використовуйте обережно або замініть на напівпрозорі фони. */
.features-section-iui.enhanced { /* backdrop-filter: blur(5px); */ }
.category-tab { /* backdrop-filter: blur(8px); */ }
.feature-card-iui.enhanced { /* backdrop-filter: blur(10px); */ }
.highlight-tag { /* backdrop-filter: blur(8px); */ }
.feature-status { /* backdrop-filter: blur(8px); */ }


/* Roadmap Section (Image 3) */
/* ... (Стилі для .roadmap-section, .roadmap-main-title, .quarter-title, .feature-list, .icon, .main-trophy-icon, .auto-management-text - з попередніх ітерацій) ... */
/* .timeline-content { backdrop-filter: blur(10px); } /* Обережно з backdrop-filter */


/* Beta Access Form Styles (Image 6) */
/* ... (Стилі для .beta-access-form-container, .gg-form, input, select, checkbox, button, .privacy-notice - з попередніх ітерацій, оптимізовані для адаптивності та UX) ... */


/* Toast Notifications */
/* ... (Стилі для .toast-container, .toast - з попередніх ітерацій, з анімацією transform/opacity) ... */
.toast::before { /* Таймлайн-індикатор для тоста */
    content: ''; position: absolute;
    bottom: 0; left: 0; /* Знизу */
    height: 3px; width: 100%; /* Ширина на 100% для scaleX */
    background: var(--color-accent-primary);
    transform-origin: left;
    animation: toastProgress var(--toast-duration, 4s) linear forwards; /* --toast-duration встановлюється JS */
    opacity: 0.8;
}


/* SVG Logo Enhancements */
/* ... (Стилі для #ggeniusAnimatedLogo - без змін, припускаючи, що вони оптимізовані) ... */


/* Animations - Performance Optimized */
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes pulse { 0%, 100% { opacity: 0.7; } 50% { opacity: 1; } } /* Змінив для більш тонкого ефекту */
@keyframes bgMove { 0%, 100% { transform: scale(1) rotate(0deg); } 50% { transform: scale(1.03) rotate(1.5deg); } } /* Додав легке обертання */
/* ... (Інші анімації: neuralPulse, heroSlideIn, titleGlow, pulseGlow - перегляньте на предмет важких тіней/фільтрів) ... */
/* Рекомендація: Замінити анімації box-shadow/filter на transform/opacity, де можливо */
@keyframes pulseDot { /* Для крапок біля .stat-number */
    0%, 100% { transform: scale(0.75); opacity: 0.5; }
    50% { transform: scale(1.15); opacity: 0.8; }
}
@keyframes iconFadeInScale { to { opacity: 1; transform: scale(1); } }
@keyframes toastProgress { from { transform: scaleX(1); } to { transform: scaleX(0); } }
/* ... (Інші анімації SVG) ... */


/* Responsive Design - Mobile First */
@media (max-width: 992px) { /* Планшети */
    :root { /* Зменшуємо деякі відступи для планшетів */
        --space-l: 2rem; --space-xl: 3rem; --space-2xl: 4.5rem;
    }
    .section-title-iui { font-size: var(--font-size-2xl); }
    .section-subtitle { max-width: 600px; }
}

@media (max-width: 768px) { /* Мобільні (основний брейкпоінт) */
    .mobile-menu-toggle { display: flex; }
    .nav-menu {
        display: none; position: fixed; /* Змінив на fixed для повноекранного меню */
        top: 0; left: 0; right: 0; bottom: 0; /* Повноекранне */
        background: rgba(var(--bg-1-rgb), 0.98); /* Більш насичений фон */
        flex-direction: column; align-items: center; justify-content: center; /* Центрування посилань */
        padding: var(--space-l);
        /* backdrop-filter: blur(10px); /* Обережно з блюром */
        transform: translateX(100%); /* Початковий стан за екраном */
        transition: transform var(--transition-duration-normal) var(--transition-easing);
        z-index: var(--z-dropdown); /* Нижче кнопки закриття */
    }
    .nav-menu.open { display: flex; transform: translateX(0); }
    .nav-menu .nav-link { font-size: var(--font-size-l); margin: var(--space-s) 0; } /* Більші посилання в моб. меню */
    .nav-link::after { bottom: -2px; /* Позиція підкреслення для моб. меню */ }

    .hero-title { font-size: var(--font-size-3xl); /* Адаптуємо розмір для мобільних */ }
    .timeline-content { width: 90%; margin-left: auto; margin-right: auto; } /* Центрування */
    .timeline-item:nth-child(even) .timeline-content { margin-left: auto; } /* Залишаємо для консистентності */
    .timeline-marker { width: 70px; height: 70px; font-size: 1.1rem; border-width: 3px; }
    
    .category-tab { padding: var(--space-s) var(--space-m); font-size: var(--font-size-xs); }
    .feature-card-iui.enhanced { padding: var(--space-l); }
    .contact-grid { grid-template-columns: 1fr; }
    .tech-categories { grid-template-columns: 1fr; }
    .mission-vision { grid-template-columns: 1fr; }

    .toast-container { /* Тости по центру зверху на мобільних */
        top: var(--space-s); right: var(--space-s); left: var(--space-s);
        bottom: auto; /* Скидаємо bottom, якщо було встановлено */
        align-items: center; width: auto; /* Займає доступну ширину */
    }
    .toast { max-width: 100%; width: 100%; }
}

@media (max-width: 480px) { /* Дуже маленькі екрани */
    :root {
        --font-size-base: clamp(0.9rem, 0.75vw + 0.7rem, 1rem); /* Ще менші шрифти */
        --space-m: 1.25rem; --space-l: 2rem;
    }
    .hero-actions { flex-direction: column; align-items: stretch; /* Кнопки на всю ширину */ }
    .cta-button { width: 100%; /* max-width: 320px; /* Обмеження, якщо потрібно */ }
    .tech-category, .timeline-content, .feature-card-iui.enhanced { padding: var(--space-m); }
    .newsletter-form { padding: var(--space-m); }
    .contact-link { padding: var(--space-m); }
    .header-logo-text { font-size: var(--font-size-l); } /* Менший логотип */
}

/* High DPI Displays */
/* ... (без змін) ... */

/* Reduced Motion Accessibility */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after { /* Загальне правило для вимкнення анімацій та переходів */
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important; /* Тільки один раз, якщо анімація важлива для початкового стану */
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important; /* Миттєва прокрутка */
    }
    /* Специфічні елементи, де анімація повністю вимикається */
    .hero-section::after, body::before, .loading-text, .spinner-ring,
    .gaming-cursor, .scroll-progress, .progress-bar /* та інші анімовані елементи */ {
        animation: none !important;
        transition: none !important; /* Також вимикаємо transition */
    }
    .gaming-cursor { display: none !important; }
}

/* Print Styles */
/* ... (без змін, виглядає добре) ... */

/* Focus Management Enhanced */
*:focus { outline: none; /* Прибираємо стандартний outline */ }
*:focus-visible { /* Кастомний outline тільки для клавіатурної навігації */
    outline: 3px solid var(--color-accent-primary);
    outline-offset: 2px;
    border-radius: var(--radius-s); /* Легке округлення для outline */
    box-shadow: 0 0 0 3px rgba(var(--cyan-rgb), 0.2); /* Додаткове світіння для фокусу */
}
/* Клас для примусового показу outline, якщо потрібно */
.force-focus-outline { 
    outline: 3px solid var(--color-accent-primary); 
    outline-offset: 2px; 
    border-radius: var(--radius-s);
    box-shadow: 0 0 0 3px rgba(var(--cyan-rgb), 0.2);
}


/* Performance Utilities */
.will-change-transform { will-change: transform; }
.will-change-opacity { will-change: opacity; }
/* .will-change-auto { will-change: auto; } /* Зазвичай не потрібне */
.contain-layout { contain: layout; }
.contain-paint { contain: paint; }
.contain-strict { contain: strict; }
.contain-layout-style-paint { contain: layout style paint; } /* Більш повне значення */

/* GPU Layer Promotion (використовуйте обережно, will-change краще) */
/* .gpu-layer { transform: translateZ(0); } */


/* Low Performance Mode (розширено) */
.low-performance-device * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    backdrop-filter: none !important;
    filter: none !important;
    text-shadow: none !important;
    box-shadow: 0 1px 2px rgba(0,0,0,0.1) !important; /* Дуже проста тінь */
    will-change: auto !important; /* Скидаємо will-change */
}
.low-performance-device .gaming-cursor,
.low-performance-device .hero-section::after,
.low-performance-device body::before,
.low-performance-device .hero-stats .stat-number::before,
.low-performance-device .hero-stats .stat-number::after,
.low-performance-device .feature-card-iui.enhanced::before,
.low-performance-device .feature-card-iui.enhanced::after,
.low-performance-device .newsletter-signup.enhanced::before,
.low-performance-device #ggeniusAnimatedLogo /* Також вимикаємо анімацію лого */ {
    animation: none !important;
    display: none !important; /* Приховуємо декоративні елементи, що сильно анімуються */
}
.low-performance-device .scroll-progress { height: 2px !important; box-shadow: none !important; }